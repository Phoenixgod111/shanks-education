name: ðŸ”‘ Test SSH Only

on:
  workflow_dispatch:
    inputs:
      server_host:
        description: 'Server host/IP'
        required: true
        default: 'your-server.com'
      server_user:
        description: 'SSH username'
        required: true
        default: 'root'
      server_port:
        description: 'SSH port'
        required: false
        default: '22'

jobs:
  test-ssh:
    name: Test SSH Connection Only
    runs-on: ubuntu-latest

    steps:
      - name: ðŸ”‘ Test SSH Connection
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ github.event.inputs.server_host || secrets.SERVER_HOST }}
          username: ${{ github.event.inputs.server_user || secrets.SERVER_USER }}
          key: ${{ secrets.SERVER_SSH_KEY }}
          password: ${{ secrets.SERVER_PASS }}
          port: ${{ github.event.inputs.server_port || secrets.SERVER_PORT || 22 }}
          timeout: 10s
          script: |
            echo "âœ… SSH CONNECTED SUCCESSFULLY!"
            echo "Server: ${{ github.event.inputs.server_host || secrets.SERVER_HOST }}"
            echo "User: ${{ github.event.inputs.server_user || secrets.SERVER_USER }}"
            echo "Port: ${{ github.event.inputs.server_port || secrets.SERVER_PORT || 22 }}"
            exit 0